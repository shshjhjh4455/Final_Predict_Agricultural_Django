<!-- y_p -->
<!-- Path: templates/common/recommend.html -->
{% extends "base.html" %}
{% block content %}
<!-- y_p 값을 표시 -->
<div class="container my-3">
    <form method="post" action="{% url 'recommend:predict' %}">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ next }}">
        {% include "form_errors.html" %}
        <!-- location user_info.location-->
        <!-- location -->
        <div class="mb-3">
            <label for="location">지역</label>
            <select class="form-control" name="location" id="location">
                <!-- default value = user_info.location -->
                <option value="{{user_info.location}}" selected>{{user_info.location}}</option>
                <option value="제주도">제주도</option>
                <option value="부산광역시">부산광역시</option>
                <option value="대구광역시">대구광역시</option>
                <option value="인천광역시">인천광역시</option>
                <option value="광주광역시">광주광역시</option>
                <option value="대전광역시">대전광역시</option>
                <option value="울산광역시">울산광역시</option>
                <option value="세종특별자치시">세종특별자치시</option>
                <option value="경기도">경기도</option>
                <option value="강원도">강원도</option>
                <option value="충청북도">충청북도</option>
                <option value="충청남도">충청남도</option>
                <option value="전라북도">전라북도</option>
                <option value="전라남도">전라남도</option>
                <option value="경상북도">경상북도</option>
                <option value="경상남도">경상남도</option>
                <option value="제주도">제주특별자치도</option>
            </select>
        </div>
        <!-- 월 선택 -->
        <div class="mb-3">
            <label for="month">월</label>
            <select class="form-control" name="month" id="month">
                <!-- default value = user_info.month -->
                <option value="{{user_info.month}}" selected>선택하세요</option>
                <option value="1">1월</option>
                <option value="2">2월</option>
                <option value="3">3월</option>
                <option value="4">4월</option>
                <option value="5">5월</option>
                <option value="6">6월</option>
                <option value="7">7월</option>
                <option value="8">8월</option>
                <option value="9">9월</option>
                <option value="10">10월</option>
                <option value="11">11월</option>
                <option value="12">12월</option>
            </select>

        </div>

        <div id="map" style="width:500px;height:400px;"></div>
        <br>
        <div id="map">
            <style>
                #map {
                    width: 500px;
                    height: 400px;
                }

                #map {
                    margin: 0 auto;
                }
            </style>
        </div>


        <script type="text/javascript"
            src="//dapi.kakao.com/v2/maps/sdk.js?appkey=92e993d41176c18d60b08b50b4c84fa8&libraries=services,clusterer,drawing"></script>
        <script>
            // 지역별 위도, 경도
            var locations = {
                "제주도": {
                    "lat": 37.566826,
                    "lng": 126.9786567
                },
                "부산광역시": {
                    "lat": 35.1795543,
                    "lng": 129.0756416
                },
                "대구광역시": {
                    "lat": 35.8714354,
                    "lng": 128.601445
                },
                "인천광역시": {
                    "lat": 37.4562557,
                    "lng": 126.7052062
                },
                "광주광역시": {
                    "lat": 35.1607038,
                    "lng": 126.8516025
                },
                "대전광역시": {
                    "lat": 36.3504119,
                    "lng": 127.3845475
                },
                "울산광역시": {
                    "lat": 35.5383773,
                    "lng": 129.3113592
                },
                "세종특별자치시": {
                    "lat": 36.480048,
                    "lng": 127.289035
                },
                "경기도": {
                    "lat": 37.2752685,
                    "lng": 127.0094276
                },
                "강원도": {
                    "lat": 37.8854386,
                    "lng": 128.6094132
                },
                "충청북도": {
                    "lat": 36.6352393,
                    "lng": 127.4891256
                },
                "충청남도": {
                    "lat": 36.633309,
                    "lng": 126.4496954
                },
                "전라북도": {
                    "lat": 35.7177971,
                    "lng": 127.1535781
                },
                "전라남도": {
                    "lat": 34.8107136,
                    "lng": 126.9296965
                },
                "경상북도": {
                    "lat": 36.5758443,
                    "lng": 128.5053828
                },
                "경상남도": {
                    "lat": 35.1795543,
                    "lng": 128.5064138
                },
            };

            // locations을 사용하여 지도를 생성합니다
            var mapContainer = document.getElementById('map'), // 지도를 표시할 div
                mapOption = {
                    center: new kakao.maps.LatLng(locations["{{user_info.location}}"].lat, locations["{{user_info.location}}"].lng), // 지도의 중심좌표
                    level: 8 // 지도의 확대 레벨
                };

            var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
        </script>
        <!-- 제출 버튼 -->
        <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">결과 확인하기</button>
        </div>
        <br>
</div>
</form>
</div>
{% endblock %}