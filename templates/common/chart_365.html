<!DOCTYPE html>
<html lang="en">

<!-- 1. static 사용 -->
{% load static %}
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  
  <!-- 2. 사이트 html 하단 script 태그 위치 -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/series-label.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">
  <!-- pybo CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
  <!-- 3. css 속성 가져오기 -->
  <link rel="stylesheet" href="{% static 'chart/css/line.css' %}">
  
</head>
<body>
  {% include "navbar.html" %}
  <script src="{% static 'bootstrap.min.js' %}"></script>
<!-- 4. 사이트 html 하단 figure 태그 -->
<figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
      금일 16시를 기준으로 금일 데이터가 반영됩니다.
      (*예시: 1/12일 3시에 생성된 그래프는 1/11일 기준입니다.)
    </p>
  </figure>
  
  <!-- 5. <script src="{% static 'chart/js/line.js' %}" ></script> -->
  <!-- 6. script -->
  <script>
    var arr = new Array();
    for (var i=1; i<366; i++){
      arr.push(i);
    }
    Highcharts.chart('container', {
      chart: {
        type: 'spline'
      },
      title: {
        text: '일 년 가격 동향'
      },
      subtitle: {
        text: '최근 일 년간 가격 현황'
      },
      xAxis: {
        categories: arr
      },
      yAxis: {
        title: {
          text: 'Price'
        },
        labels: {
          formatter: function () {
            return this.value + '(원)';
          }
        }
      },
      tooltip: {
        crosshairs: true,
        shared: true
      },
      plotOptions: {
        spline: {
          marker: {
            radius: 4,
            lineColor: '#666666',
            lineWidth: 1
          }
        }
      },
      series: [{
        name: 'Price',
        marker: {
          symbol: 'diamond'
        },
        data: {{ val3 }}

      }]
    });
  </script>
</body>
</html>