<!-- y_p -->
<!-- Path: templates/common/result.html -->
{% extends "base.html" %}
{% block content %}
<!-- y_p 값을 표시 -->
<div class="container my-3">
    <form method="post" action="{% url 'recommend:predict' %}">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ next }}">
        {% include "form_errors.html" %}
        <!-- location user_info.location-->
        <!-- location -->
        <div class="mb-3">
            <!-- 지역 -->
        <div class="mb-3">
            <label for="cabbage">지역</label>
            <input type="text" class="form-control" name="cabbage" id="cabbage" value="{{ loc }}" readonly>
        </div>
        <!-- 월 -->
        <div class="mb-3">
            <label for="cabbage">월</label>
            <input type="text" class="form-control" name="cabbage" id="cabbage" value="{{ mon }}" readonly>
        </div>
        <!-- 배추 재배 가능 여부 -->
        <div class="mb-3">
            <label for="cabbage">배추 재배 가능 여부</label>
            <input type="text" class="form-control" name="cabbage" id="cabbage" value="{{ obj_test }}" readonly>
        </div>
            
            <!-- 지도 -->
            <br>
            <div id="map">
                <style>
                    #map {
                        width: 500px;
                        height: 400px;
                    }
                    #map {
                        margin: 0 auto;
                    }
                </style>
            </div>
            <script type="text/javascript"
                src="//dapi.kakao.com/v2/maps/sdk.js?appkey=92e993d41176c18d60b08b50b4c84fa8&libraries=services,clusterer,drawing"></script>
            <script>
                // 지역별 위도, 경도
                var locations = {
                    "제주도": {
                        "lat": 37.566826,
                        "lng": 126.9786567
                    },
                    "부산광역시": {
                        "lat": 35.1795543,
                        "lng": 129.0756416
                    },
                    "대구광역시": {
                        "lat": 35.8714354,
                        "lng": 128.601445
                    },
                    "인천광역시": {
                        "lat": 37.4562557,
                        "lng": 126.7052062
                    },
                    "광주광역시": {
                        "lat": 35.1607038,
                        "lng": 126.8516025
                    },
                    "대전광역시": {
                        "lat": 36.3504119,
                        "lng": 127.3845475
                    },
                    "울산광역시": {
                        "lat": 35.5383773,
                        "lng": 129.3113592
                    },
                    "세종특별자치시": {
                        "lat": 36.480048,
                        "lng": 127.289035
                    },
                    "경기도": {
                        "lat": 37.2752685,
                        "lng": 127.0094276
                    },
                    "강원도": {
                        "lat": 37.8854386,
                        "lng": 128.6094132
                    },
                    "충청북도": {
                        "lat": 36.6352393,
                        "lng": 127.4891256
                    },
                    "충청남도": {
                        "lat": 36.633309,
                        "lng": 126.4496954
                    },
                    "전라북도": {
                        "lat": 35.7177971,
                        "lng": 127.1535781
                    },
                    "전라남도": {
                        "lat": 34.8107136,
                        "lng": 126.9296965
                    },
                    "경상북도": {
                        "lat": 36.5758443,
                        "lng": 128.5053828
                    },
                    "경상남도": {
                        "lat": 35.1795543,
                        "lng": 128.5064138
                    },
                };
                
            // locations을 사용하여 지도를 생성합니다
                var mapContainer = document.getElementById('map'), // 지도를 표시할 div
                    mapOption = {
                        center: new kakao.maps.LatLng(locations["{{loc.location}}"].lat, locations["{{loc.location}}"].lng), // 지도의 중심좌표
                        level: 8 // 지도의 확대 레벨
                    };

                var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
            </script>

            <!-- 추천페이지 버튼 -->
            <!--<a href="../../common/recommend.html">-->
            <div class="d-flex justify-content-center">
                <a href="{% url 'recommend:predict' %}" ><button type="button" class="btn btn-primary">추천페이지로</button></a>
            </div>
    </form>
</div>
{% endblock %}